/*
 * The MIT License
 *
 * (MIT)Copyright (c) 2015 artjomb
 */
!function(a,b,c){"function"==typeof define&&define.amd?define(["crypto-js/core","crypto-js/cipher-core"],b):b(a.CryptoJS)}(this,function(a){function b(a,b,c){for(var d=this,e=d._cipher,f=e.blockSize,g=d._prevBlock,h=e.cfg.segmentSize/32,i=0;i<f/h;i++){g?g=g.slice(h).concat(d._ct):(g=d._iv.slice(0),d._iv=void 0),c||(d._ct=a.slice(b+i*h,b+i*h+h));var j=g.slice(0);e.encryptBlock(j,0);for(var k=0;k<h;k++)a[b+i*h+k]^=j[k];c&&(d._ct=a.slice(b+i*h,b+i*h+h))}d._prevBlock=g}var c=a.lib.BlockCipherMode.extend();c.Encryptor=c.extend({processBlock:function(a,c){b.call(this,a,c,!0)}}),c.Decryptor=c.extend({processBlock:function(a,c){b.call(this,a,c,!1)}}),a.mode.CFBw=c});